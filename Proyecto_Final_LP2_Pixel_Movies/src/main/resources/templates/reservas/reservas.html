<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reservas</title>
  <link rel="stylesheet" href="/css/reserva.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

<nav>
  <a href="Principal.jsp">
    <img class="imgLogo" src="/images/logoFinal.png" alt="Pagina Principal">
  </a>
  <input class="form-control" type="text" placeholder="¿Qué estás buscando?" disabled>
</nav>

<!----------------------------------------------------------------------->

<div class="nav-list">
  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link" th:href="@{/reservas/listarReservas}">Reservas</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" th:href="@{/productos/listarProductos}" >Productos</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" type="submit" >Clientes</a></li>
    <li class="nav-item">
      <a class="nav-link" type="submit" >Empleados</a></li>
    <li class="nav-item">
      <a class="nav-link" th:href="@{/salas/listarSalas}">Salas</a>
    </li>
  </ul>
</div>
<a th:href="@{/reservas/nuevaReserva}" type="button" class="btn btn-primary agregar-reserva">Agregar Reserva</a>
<a th:href="@{/reservas/reporteReservas}"   class="btn btn-secondary btn-sm mb-3 generar-reporte" target="_blank"> Generar reporte PDF </a>

<!----------------------------------------------------------------------->
<div class="container my-2">
  <h1 class="text-center">Reservas</h1>

  <table class="table table-striped">
    <thead>
    <tr>
      <th>ID</th>
      <th>Fecha Reserva</th>
      <th>Nombres</th>
      <th>Apellido</th>
      <th>Número celular</th>
      <th>Sala</th>
      <th>Pelìcula</th>
    </tr>
    </thead>
    <tbody>
    <tr  th:each="reservas: ${listaReservas}"  >
      <td  th:text="${reservas.getIdReserva()}" ></td>
      <td  th:text="${#dates.format(reservas.getFechaReserva(), 'dd/MM/yyyy')}" ></td>
      <td  th:text="${reservas.getClientes().getNombresCliente()}" ></td>
      <td  th:text="${reservas.getClientes().getApellidoPaterno()}" ></td>
      <td  th:text="${reservas.getClientes().getNumCelular()}" ></td>
      <td  th:text="${reservas.getSalas().getCodSala()}" ></td>
      <td  th:text="${reservas.getPeliculas().getNombrePelicula()}" ></td>
      <td>
        <a th:href="@{/reservas/actualizarReserva/{id}(id=${reservas.idReserva})}" class="btn btn-info"> Editar </a>
        <a th:href="@{/reservas/eliminarReserva/{id}(id=${reservas.idReserva})}" class="btn btn-danger"> Eliminar </a>
      </td>
    </tr>
    </tbody>
  </table>
</div>
</body>
</html>